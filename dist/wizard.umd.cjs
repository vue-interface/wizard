(function(y,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@vue-interface/slide-deck"),require("@vue-interface/btn-activity"),require("@vue-interface/btn")):typeof define=="function"&&define.amd?define(["exports","vue","@vue-interface/slide-deck","@vue-interface/btn-activity","@vue-interface/btn"],e):(y=typeof globalThis<"u"?globalThis:y||self,e(y.Wizard={},y.Vue,y.VueInterfaceSlideDeck,y.VueInterfaceBtnActivity,y.VueInterfaceBtn))})(this,function(y,e,D,E,M){"use strict";const j={class:"wizard-controls-left wizard-controls-section"},q={class:"wizard-controls-right wizard-controls-section"},C=e.defineComponent({__name:"WizardControls",props:{active:{},buttons:{type:[Array,Function]},context:{},currentSlot:{},indicator:{},isFirstSlot:{type:Boolean},isLastSlot:{type:Boolean},size:{},totalSlots:{}},setup(i){const t=i;console.log(t.context);const s=e.ref(typeof t.buttons=="function"?t.buttons(t.context):t.buttons),c=e.computed(()=>s.value.filter(a=>h(a.align)==="left")),d=e.computed(()=>s.value.filter(a=>h(a.align)===void 0||a.align==="right"));function h(a){return typeof a=="function"?a(t.context):a}function g(a,n){var p,$;const o=($=(p=t.currentSlot)==null?void 0:p.props)==null?void 0:$[`${a.id}-${n}`];return o?!!h(o):typeof a[n]=="function"?!!h(a[n]):a[n]}function _(a){return a===!0||typeof a>"u"}async function v(a,n){var p,$,f,b;const o=($=(p=t.currentSlot)==null?void 0:p.props)==null?void 0:$[n.id];if(!o)return(f=n.onClick)==null?void 0:f.call(n,a,n);n.activity=!0,_(await Promise.resolve(h(o)))&&((b=n.onClick)==null||b.call(n,a,n)),n.activity=!1}return(a,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["wizard-controls",{[`wizard-controls-${t.size}`]:!0}])},[e.createElementVNode("div",j,[e.renderSlot(a.$slots,"left",{leftButtons:c.value},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,(o,p)=>(e.openBlock(),e.createBlock(e.unref(E.BtnActivity),{key:`left-button-${p}`,type:"button",activity:!!g(o,"activity"),disabled:!!g(o,"disabled"),indicator:t.indicator,size:t.size,variant:String(g(o,"variant")||"secondary"),onClick:$=>v($,o)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h(o.label)),1)]),_:2},1032,["activity","disabled","indicator","size","variant","onClick"]))),128))])]),e.createElementVNode("div",q,[e.renderSlot(a.$slots,"right",{rightButtons:d.value},()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(o,p)=>(e.openBlock(),e.createBlock(e.unref(E.BtnActivity),{key:`right-button-${p}`,type:"button",activity:!!g(o,"activity"),disabled:!!g(o,"disabled"),indicator:t.indicator,size:t.size,variant:String(g(o,"variant")),onClick:$=>v($,o)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h(o.label)),1)]),_:2},1032,["activity","disabled","indicator","size","variant","onClick"]))),128))])])],2))}}),Ie="",N=e.defineComponent({props:{componentPrefix:String,size:String,sizePrefix:String},computed:{sizeableClassPrefix(){return this.sizePrefix||this.componentPrefix},hasSizeablePrefix(){return this.size===void 0?!1:!!this.size.match(new RegExp(`^${this.sizeableClassPrefix}`))},sizeableClass(){return this.size?!this.sizeableClassPrefix||this.hasSizeablePrefix?this.size:`${this.sizeableClassPrefix}-${this.size}`:""}}}),O=e.defineComponent({components:{Btn:M.Btn},mixins:[N],props:{title:{type:String,default:"Error!"},error:{type:Error,required:!0},extract:{type:Function,default(i){return i}}},emits:["fix"],data(){return{errors:this.extract(this.error)}},computed:{isString(){return typeof this.errors=="string"},isError(){return this.errors instanceof Error}}}),Ge="",z=(i,t)=>{const s=i.__vccOpts||i;for(const[c,d]of t)s[c]=d;return s},H={class:"wizard-error"},R={class:"wizard-error-icon"},T=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"#b10805",d:"M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"})],-1),Z={class:"wizard-error-body"},I={key:0,class:"wizard-error-title"},G={key:0},J={key:1},K={key:2},Q={class:"wizard-error-list"};function U(i,t,s,c,d,h){const g=e.resolveComponent("Btn");return e.openBlock(),e.createElementBlock("div",H,[e.createElementVNode("div",R,[e.renderSlot(i.$slots,"icon",{},()=>[T])]),e.createElementVNode("div",null,[e.createElementVNode("div",Z,[i.title?(e.openBlock(),e.createElementBlock("h3",I,e.toDisplayString(i.title),1)):e.createCommentVNode("",!0),e.renderSlot(i.$slots,"default",{},()=>[i.isString?(e.openBlock(),e.createElementBlock("div",G,e.toDisplayString(i.errors),1)):i.isError?(e.openBlock(),e.createElementBlock("div",J,e.toDisplayString(i.errors.message),1)):(e.openBlock(),e.createElementBlock("div",K,[e.createElementVNode("ul",Q,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.errors,(_,v)=>(e.openBlock(),e.createElementBlock("li",{key:v},e.toDisplayString(_),1))),128))])]))])]),e.createVNode(g,{size:i.size,variant:"danger",block:"",onClick:t[0]||(t[0]=_=>i.$emit("fix",_,i.error))},{default:e.withCtx(()=>[e.createTextVNode(" Fix Errors ")]),_:1},8,["size"])])])}const x=z(O,[["render",U]]),X=e.defineComponent({props:{active:{type:[String,Number],required:!0},highestStep:{type:Number,required:!0},slots:{type:Array,required:!0}},methods:{label(i){var t;return(t=i==null?void 0:i.props)==null?void 0:t.label}}}),Je="",Y={class:"wizard-progress"},ee={class:"wizard-progress-label"};function te(i,t,s,c,d,h){return e.openBlock(),e.createElementBlock("div",Y,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.slots,(g,_)=>(e.openBlock(),e.createElementBlock("div",{key:_,class:e.normalizeClass(["wizard-progress-step",{active:_===i.active,disabled:_>i.highestStep,complete:_+1<=i.highestStep}])},[e.createElementVNode("div",ee,e.toDisplayString(i.label(g)),1)],2))),128))])}const V=z(X,[["render",te]]),ie=e.defineComponent({mixins:[N],props:{title:{type:String,default:"Success!"}}}),Ke="",re={class:"wizard-success"},ne={class:"wizard-success-icon"},se=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},[e.createElementVNode("path",{fill:"#55b776",d:"M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"})],-1),oe={key:0,class:"wizard-success-title"};function ae(i,t,s,c,d,h){return e.openBlock(),e.createElementBlock("div",re,[e.createElementVNode("div",ne,[e.renderSlot(i.$slots,"icon",{},()=>[se])]),e.renderSlot(i.$slots,"title",{title:i.title},()=>[i.title?(e.openBlock(),e.createElementBlock("h3",oe,e.toDisplayString(i.title),1)):e.createCommentVNode("",!0)]),e.renderSlot(i.$slots,"default")])}const W=z(ie,[["render",ae]]);var le=Object.defineProperty,ce=(i,t,s)=>t in i?le(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s,de=(i,t,s)=>(ce(i,typeof t!="symbol"?t+"":t,s),s),S=function(){return S=Object.assign||function(i){for(var t,s=1,c=arguments.length;s<c;s++){t=arguments[s];for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&(i[d]=t[d])}return i},S.apply(this,arguments)};function fe(i){return i.toLowerCase()}var pe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],ue=/[^A-Z0-9]+/gi;function me(i,t){t===void 0&&(t={});for(var s=t.splitRegexp,c=s===void 0?pe:s,d=t.stripRegexp,h=d===void 0?ue:d,g=t.transform,_=g===void 0?fe:g,v=t.delimiter,a=v===void 0?" ":v,n=P(P(i,c,"$1\0$2"),h,"\0"),o=0,p=n.length;n.charAt(o)==="\0";)o++;for(;n.charAt(p-1)==="\0";)p--;return n.slice(o,p).split("\0").map(_).join(a)}function P(i,t,s){return t instanceof RegExp?i.replace(t,s):t.reduce(function(c,d){return c.replace(d,s)},i)}function he(i,t){return t===void 0&&(t={}),me(i,S({delimiter:"."},t))}function B(i,t){return t===void 0&&(t={}),he(i,S({delimiter:"-"},t))}class ye{constructor(t={}){de(this,"components"),this.components=new Map,Object.entries(t).forEach(([s,c])=>{this.register(s,c)})}get(t){const s=this.components.get(t=B(t));if(s)return s;throw new Error(`"${t}" has not been registered yet!`)}register(t,s){return typeof t=="object"?(Object.entries(t).forEach(([c,d])=>{this.register(B(c),d)}),this):(this.components.set(B(t),s),this)}remove(t){return this.components.delete(B(t)),this}reset(){return this.components=new Map,this}}function ge(i={}){return new ye(i)}const _e=ge();function k(i,t="px"){return i!=null&&i!==!1&&isFinite(i)?`${i}${t}`:i}e.defineComponent({props:{absolute:Boolean,center:Boolean,label:{type:String,default:void 0},size:{type:String,default:"md"},registry:{type:String,default:"indicators"},type:{type:[Object,String],required:!0},height:{type:[String,Number],default:void 0},maxHeight:{type:[String,Number],default:void 0},minHeight:{type:[String,Number],default:void 0},width:{type:[String,Number],default:void 0},maxWidth:{type:[String,Number],default:void 0},minWidth:{type:[String,Number],default:void 0}},data:()=>({is:null}),computed:{classes(){return{"activity-indicator-center":this.center,"activity-indicator-absolute":this.absolute,[this.size&&`activity-indicator-${this.size}`]:!!this.size}},style(){return{width:k(this.width),maxWidth:k(this.maxWidth),minWidth:k(this.minWidth),height:k(this.height),maxHeight:k(this.maxHeight),minHeight:k(this.minHeight)}}},methods:{componentFromRegistry(i){var t;try{return(t=e.inject(this.registry||"indicators",_e))==null?void 0:t.get(i)}catch{}},component(){return typeof this.type=="string"?this.componentFromRegistry(this.type):e.toRaw(this.type)}}});const ve=(i,t)=>{const s=i.__vccOpts||i;for(const[c,d]of t)s[c]=d;return s},$e={},ke={class:"activity-indicator-spinner"},ze=e.createStaticVNode('<div class="activity-indicator-spinner1 activity-indicator-spinner"></div><div class="activity-indicator-spinner2 activity-indicator-spinner"></div><div class="activity-indicator-spinner3 activity-indicator-spinner"></div><div class="activity-indicator-spinner4 activity-indicator-spinner"></div><div class="activity-indicator-spinner5 activity-indicator-spinner"></div><div class="activity-indicator-spinner6 activity-indicator-spinner"></div><div class="activity-indicator-spinner7 activity-indicator-spinner"></div><div class="activity-indicator-spinner8 activity-indicator-spinner"></div><div class="activity-indicator-spinner9 activity-indicator-spinner"></div><div class="activity-indicator-spinner10 activity-indicator-spinner"></div><div class="activity-indicator-spinner11 activity-indicator-spinner"></div><div class="activity-indicator-spinner12 activity-indicator-spinner"></div>',12),Se=[ze];function Be(i,t){return e.openBlock(),e.createElementBlock("div",ke,Se)}const be=ve($e,[["render",Be]]),we={class:"wizard"},Ee={class:"wizard-content"},Ce={key:2},Ne=e.defineComponent({__name:"Wizard",props:{active:{default:void 0},buttons:{type:[Array,Function],default:void 0},indicator:{default:be},size:{default:"md"},submitLabel:{default:"Submit"},nextLabel:{default:"Next"},prevLabel:{default:"Back"}},emits:["fix","enter","leave","after-enter","after-leave","before-enter","before-leave"],setup(i,{expose:t,emit:s}){const c=i,d=e.computed(()=>n.value===0),h=e.computed(()=>n.value===w()-1),g=e.ref(c.buttons??[{id:"back",align:"left",label:c.prevLabel,variant:"btn-secondary",onClick:()=>{var r;d.value||(r=f.value)==null||r.prev()}},{id:"submit",align:"right",variant:"btn-primary",label:()=>h.value?c.submitLabel:c.nextLabel,onClick:async()=>{var r;h.value?p.value=!0:(r=f.value)==null||r.next()}}]),_=e.useSlots();let v=e.ref(),a=e.ref(),n=e.ref(0),o=e.ref(0),p=e.ref(!1),$=e.ref(),f=e.ref();function b(){var r;return(r=f.value)==null?void 0:r.next()}function Ae(){var r;return(r=f.value)==null?void 0:r.prev()}function Fe(r){var l;return(l=f.value)==null?void 0:l.goto(r)}function De(){p.value=!0,$.value=void 0}function Me(r){p.value=!0,$.value=r||new Error}function w(){var r,l;return((l=(r=e.useSlots()).default)==null?void 0:l.call(r).length)||0}function je(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("enter",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function qe(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("leave",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function Oe(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("after-enter",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function He(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("after-leave",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function Re(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("before-enter",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function Te(r,l){var u,m;(u=f.value)!=null&&u.$refs.slide&&((m=f.value)==null||m.$refs.slide.$refs.node.$emit("before-leave",r,l)),v.value=r,a.value=l,n.value=Number(r.key),o.value=Math.max(o.value,n.value)}function Ze(r,l){s("fix",r,l),r.defaultPrevented||(p.value=!1)}const L={next:b,prev:Ae,goto:Fe,failed:Me,success:De,totalSlots:w,isFirstSlot:d,isLastSlot:h,finished:p};return t(L),(r,l)=>{var u,m;return e.openBlock(),e.createElementBlock("div",we,[e.unref(p)?e.unref($)?(e.openBlock(),e.createElementBlock("div",Ce,[e.renderSlot(r.$slots,"error",{error:e.unref($)},()=>[e.createVNode(x,{error:e.unref($),onFix:Ze},null,8,["error"])])])):e.renderSlot(r.$slots,"success",{key:1},()=>[e.createVNode(W)]):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.renderSlot(r.$slots,"progress",{active:e.unref(n),highestStep:e.unref(o)},()=>{var A,F;return[w()>1?(e.openBlock(),e.createBlock(V,{key:0,active:e.unref(n),"highest-step":e.unref(o),slots:(F=(A=e.unref(_)).default)==null?void 0:F.call(A)},null,8,["active","highest-step","slots"])):e.createCommentVNode("",!0)]}),e.createElementVNode("div",Ee,[e.createVNode(e.unref(D.SlideDeck),{ref_key:"deck",ref:f,slots:(m=(u=e.unref(_)).default)==null?void 0:m.call(u),onEnter:je,onLeave:qe,onAfterEnter:Oe,onAfterLeave:He,onBeforeEnter:Re,onBeforeLeave:Te},null,8,["slots"])]),e.createVNode(C,{active:e.unref(n),"current-slot":e.unref(v),buttons:g.value,indicator:r.indicator,"is-first-slot":d.value,"is-last-slot":h.value,size:r.size,"total-slots":w(),context:L},null,8,["active","current-slot","buttons","indicator","is-first-slot","is-last-slot","size","total-slots"])],64))])}}}),Qe="",xe=e.defineComponent({props:{center:{type:Boolean,default:!0},tag:{type:String,default:"h2"}}}),Ue="";function Ve(i,t,s,c,d,h){return e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.tag),{class:e.normalizeClass(["wizard-header",{"wizard-header-center":i.center}])},{default:e.withCtx(()=>[e.renderSlot(i.$slots,"default")]),_:3},8,["class"])}const We=z(xe,[["render",Ve]]),Pe={class:"wizard-step"},Le=e.defineComponent({__name:"WizardStep",setup(i){return(t,s)=>(e.openBlock(),e.createElementBlock("div",Pe,[e.renderSlot(t.$slots,"default",{ref:"content"})]))}});y.Wizard=Ne,y.WizardControls=C,y.WizardError=x,y.WizardHeader=We,y.WizardProgress=V,y.WizardStep=Le,y.WizardSuccess=W,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=wizard.umd.cjs.map
